import{d as v,c as n,o as l,a as i,u as c,h as y,w as g,b as t,t as s,g as d,n as m,F as p,r as x,j as w}from"./app-BmG_DPBB.js";import{_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang-ZWIXegjN.js";import{_ as k}from"./index-BepxCu8Q.js";import{c as D}from"./createLucideIcon-DJpdnZzD.js";import"./useForwardExpose-DIVISxOl.js";import"./x-C_usZcIN.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=D("BanIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),S={class:"space-y-6"},T={class:"p-6 rounded-xl border bg-card text-card-foreground"},B={class:"flex flex-col md:flex-row gap-6"},I={class:"flex-1"},q={class:"text-2xl font-bold"},z={class:"text-muted-foreground"},N={class:"mt-4 grid grid-cols-2 gap-4 text-sm"},O={class:"font-mono"},P={class:"text-center flex items-center gap-4"},R={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},U={class:"p-4 rounded-xl border bg-card"},E={class:"text-2xl font-bold"},G={class:"p-4 rounded-xl border bg-card"},L={class:"text-2xl font-bold text-green-600"},V={class:"p-4 rounded-xl border bg-card"},$={class:"text-2xl font-bold text-blue-600"},A={class:"p-4 rounded-xl border bg-card"},M={class:"text-2xl font-bold text-teal-600"},j={class:"p-6 rounded-xl border bg-card text-card-foreground"},H={class:"overflow-x-auto"},J={class:"w-full text-sm"},K={class:"p-3 font-mono"},Q={class:"p-3 font-medium"},W={class:"p-3 capitalize"},X={class:"p-3 font-mono text-right"},Y={class:"p-3 font-mono text-right text-green-600"},Z={class:"p-3 text-center capitalize"},tt={class:"p-3 text-right"},et={class:"p-6 rounded-xl border bg-card text-card-foreground"},st={class:"overflow-x-auto"},ot={class:"w-full text-sm"},rt={class:"p-3 whitespace-nowrap"},at={class:"p-3 text-muted-foreground"},mt=v({__name:"Show",props:{user:{},stats:{}},setup(b){const u=b,h=[{title:"Admin",href:route("admin.dashboard")},{title:"Usuarios",href:route("admin.users.index")},{title:u.user.nombres,href:"#"}],_=()=>{confirm("¿Estás seguro de que quieres cambiar el estado de fraude para este usuario?")&&w.patch(route("admin.users.update",{user:u.user.id}),{is_fraud:!u.user.is_fraud},{preserveScroll:!0})},a=o=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o),f=o=>new Date(o).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric"});return(o,e)=>(l(),n(p,null,[i(c(y),{title:`Perfil de ${o.user.nombres}`},null,8,["title"]),i(C,{breadcrumbs:h},{default:g(()=>[t("div",S,[t("div",T,[t("div",B,[t("div",I,[t("h2",q,s(o.user.nombres)+" "+s(o.user.apellidos),1),t("p",z,s(o.user.email),1),t("div",N,[t("div",null,[e[0]||(e[0]=t("strong",null,"Celular:",-1)),d(" "+s(o.user.celular),1)]),t("div",null,[e[1]||(e[1]=t("strong",null,"Documento:",-1)),d(" "+s(o.user.identification_type)+" - "+s(o.user.identification_number),1)]),t("div",null,[e[2]||(e[2]=t("strong",null,"Código Referido:",-1)),e[3]||(e[3]=d()),t("span",O,s(o.user.referral_code),1)]),t("div",null,[e[4]||(e[4]=t("strong",null,"Rango:",-1)),d(" "+s(o.user.rank?.name||"Sin Rango"),1)])])]),t("div",P,[t("span",{class:m(["px-3 py-1 text-sm font-semibold rounded-full",o.user.is_fraud?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},s(o.user.is_fraud?"Marcado como Fraude":"Cuenta Normal"),3),i(c(k),{onClick:_,variant:"destructive",size:"sm",class:"flex items-center gap-2"},{default:g(()=>[i(c(F),{class:"h-4 w-4"}),d(" "+s(o.user.is_fraud?"Desbloquear Usuario":"Bloquear Usuario"),1)]),_:1})])])]),t("div",R,[t("div",U,[e[5]||(e[5]=t("h4",{class:"text-sm font-medium text-muted-foreground"},"Inversión Total",-1)),t("p",E,s(a(o.stats.totalInversion)),1)]),t("div",G,[e[6]||(e[6]=t("h4",{class:"text-sm font-medium text-muted-foreground"},"Ganancia Total",-1)),t("p",L,"+"+s(a(o.stats.totalProfit)),1)]),t("div",V,[e[7]||(e[7]=t("h4",{class:"text-sm font-medium text-muted-foreground"},"Retorno Total",-1)),t("p",$,s(a(o.stats.totalGanancia)),1)]),t("div",A,[e[8]||(e[8]=t("h4",{class:"text-sm font-medium text-muted-foreground"},"Saldo Disponible",-1)),t("p",M,s(a(o.stats.totalAvailable)),1)])]),t("div",j,[e[10]||(e[10]=t("h3",{class:"text-lg font-semibold mb-4"},"Suscripciones del Usuario",-1)),t("div",H,[t("table",J,[e[9]||(e[9]=t("thead",{class:"border-b"},[t("tr",null,[t("th",{class:"p-3 text-left"},"#"),t("th",{class:"p-3 text-left"},"Plan"),t("th",{class:"p-3 text-left"},"Tipo"),t("th",{class:"p-3 text-right"},"Inversión"),t("th",{class:"p-3 text-right"},"Ganancia"),t("th",{class:"p-3 text-center"},"Estado"),t("th",{class:"p-3 text-right"},"Fecha Creación")])],-1)),t("tbody",null,[(l(!0),n(p,null,x(o.user.subscriptions,r=>(l(),n("tr",{key:r.id,class:"border-b"},[t("td",K,"#"+s(r.sequence_id),1),t("td",Q,s(r.plan.name),1),t("td",W,s(r.contract_type),1),t("td",X,s(a(r.initial_investment)),1),t("td",Y,"+"+s(a(r.profit_amount)),1),t("td",Z,s(r.status.replace("_"," ")),1),t("td",tt,s(f(r.created_at)),1)]))),128))])])])]),t("div",et,[e[12]||(e[12]=t("h3",{class:"text-lg font-semibold mb-4"},"Historial de Transacciones",-1)),t("div",st,[t("table",ot,[e[11]||(e[11]=t("thead",{class:"border-b"},[t("tr",null,[t("th",{class:"p-3 text-left"},"Fecha"),t("th",{class:"p-3 text-left"},"Tipo"),t("th",{class:"p-3 text-left"},"Observación"),t("th",{class:"p-3 text-right"},"Monto")])],-1)),t("tbody",null,[(l(!0),n(p,null,x(o.user.transactions,r=>(l(),n("tr",{key:r.id,class:"border-b"},[t("td",rt,s(f(r.created_at)),1),t("td",{class:m(["p-3 capitalize font-semibold",r.tipo==="abono"?"text-green-600":"text-red-600"])},s(r.tipo),3),t("td",at,s(r.observacion),1),t("td",{class:m(["p-3 font-mono text-right",r.tipo==="abono"?"text-green-600":"text-red-600"])},s(r.tipo==="abono"?"+":"-")+s(a(r.monto)),3)]))),128))])])])])])]),_:1})],64))}});export{mt as default};
