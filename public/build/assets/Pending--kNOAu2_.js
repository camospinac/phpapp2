import{d as x,c as n,o as i,a,u as p,h as _,w as d,b as t,F as l,r as h,t as r,g as y,j as g}from"./app-BQnH1ZEo.js";import{_ as b}from"./AppLayout.vue_vue_type_script_setup_true_lang-4O02rZHV.js";import{_ as v}from"./index-KcLK0tTn.js";import"./useForwardExpose-BM3Qfcfh.js";import"./x-CEnJsh2w.js";import"./createLucideIcon-BOMx47jT.js";const C={class:"p-4 md:p-6 rounded-xl border bg-card text-card-foreground"},k={key:0,class:"flex items-center justify-center h-[40vh] text-muted-foreground"},S={key:1,class:"overflow-x-auto"},D={class:"min-w-full text-sm text-left"},w={class:"px-4 py-3 font-medium"},F={class:"px-4 py-3 text-muted-foreground"},N={class:"px-4 py-3 text-muted-foreground"},P={class:"px-4 py-3 font-semibold capitalize"},V={class:"px-4 py-3 font-mono text-right"},A={class:"px-4 py-3 font-mono text-right text-green-600"},B={class:"px-4 py-3 text-muted-foreground"},E={class:"px-4 py-3 text-center"},$=["href"],j={class:"px-4 py-3 text-center"},U=x({__name:"Pending",props:{subscriptions:{}},setup(O){const m=[{title:"Admin",href:"#"},{title:"Suscripciones Pendientes",href:route("admin.subscriptions.pending")}],u=s=>{confirm("¿Estás seguro de que quieres aprobar esta suscripción? Esta acción es irreversible.")&&g.patch(route("admin.subscriptions.approve",{subscription:s}),{},{preserveScroll:!0})},c=s=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),f=s=>new Date(s).toLocaleDateString("es-CO",{year:"numeric",month:"short",day:"numeric"});return(s,o)=>(i(),n(l,null,[a(p(_),{title:"Aprobar Suscripciones"}),a(b,{breadcrumbs:m},{default:d(()=>[t("div",C,[o[3]||(o[3]=t("h3",{class:"text-xl font-semibold mb-4"},"Suscripciones Pendientes de Verificación",-1)),s.subscriptions.length===0?(i(),n("div",k,o[0]||(o[0]=[t("p",{class:"text-center"},"¡Buen trabajo! No hay suscripciones pendientes por aprobar.",-1)]))):(i(),n("div",S,[t("table",D,[o[2]||(o[2]=t("thead",{class:"border-b"},[t("tr",null,[t("th",{scope:"col",class:"px-4 py-3 font-medium"},"Usuario"),t("th",{class:"px-4 py-3 font-medium"},"# Documento"),t("th",{scope:"col",class:"px-4 py-3 font-medium"},"Plan"),t("th",{scope:"col",class:"px-4 py-3 font-medium"},"Tipo Contrato"),t("th",{scope:"col",class:"px-4 py-3 font-medium text-right"},"Monto"),t("th",{class:"px-4 py-3 font-medium text-right"},"Ganancia Esperada"),t("th",{scope:"col",class:"px-4 py-3 font-medium"},"Fecha Solicitud"),t("th",{scope:"col",class:"px-4 py-3 font-medium text-center"},"Comprobante"),t("th",{scope:"col",class:"px-4 py-3 font-medium text-center"},"Acción")])],-1)),t("tbody",null,[(i(!0),n(l,null,h(s.subscriptions,e=>(i(),n("tr",{key:e.id,class:"border-b"},[t("td",w,r(e.user.nombres)+" "+r(e.user.apellidos),1),t("td",F,r(e.user.identification_number),1),t("td",N,r(e.plan.name),1),t("td",P,r(e.contract_type),1),t("td",V,r(c(e.initial_investment)),1),t("td",A,"+"+r(c(e.profit_amount)),1),t("td",B,r(f(e.created_at)),1),t("td",E,[t("a",{href:`/storage/${e.payment_receipt_path}`,target:"_blank",class:"text-primary underline hover:text-primary/80"}," Ver Imagen ",8,$)]),t("td",j,[a(p(v),{onClick:q=>u(e.id),size:"sm"},{default:d(()=>o[1]||(o[1]=[y(" Aprobar ",-1)])),_:2,__:[1]},1032,["onClick"])])]))),128))])])]))])]),_:1})],64))}});export{U as default};
